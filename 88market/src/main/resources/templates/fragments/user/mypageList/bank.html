<div th:fragment="mypageInfo" style="border:1px solid #FF0000;">
	<div class="profile-section">
		<div class="profile-info">
			<div >
				<h3>계좌 관리</h3>
			</div>
		</div>
	</div>
	<div class="account-list">
		<div class="account-row" th:each="acct : ${bankList}">
			<!-- 은행 -->
			<div class="account-info">
				<div class="bank">
					<span class="label">은행:</span>
					<span class="value" th:text="${acct.bank}">팥팔은행</span>
	        	</div>
		        <!-- 계좌번호 -->
		        <div class="number">
		        	<span class="label">계좌번호:</span>
		        	<span class="value" th:text="${acct.number}">123‑456‑7890</span>
				</div>
			</div>
			<!-- 버튼 -->
			<div class="actions">
				<button type="button" class="btn-edit">수정</button>
				<button type="button" class="btn-delete">삭제</button>
			</div>
		</div>
	</div>

	<button type="button" id="addAccountBtn" class="add-account-btn">
		+ 계좌 추가
	</button>
	
	<script>
  (function(){
    const MAX = 5;
    const list = document.querySelector('.account-list');
    const addBtn = document.getElementById('addAccountBtn');

    addBtn.addEventListener('click', () => {
      const rows = list.querySelectorAll('.account-row').length;
      if (rows >= MAX) {
        alert(`최대 ${MAX}개의 계좌만 추가 가능합니다.`);
        return;
      }
      const div = document.createElement('div');
      div.className = 'account-row';
      div.innerHTML = `
        <div class="account-info">
          <div class="bank">
            <span class="label">은행:</span>
            <input type="text" name="bank" placeholder="은행명" />
          </div>
          <div class="number">
            <span class="label">계좌번호:</span>
            <input type="text" name="number" placeholder="계좌번호" />
          </div>
        </div>
        <div class="actions">
          <button type="button" class="btn-save">저장</button>
          <button type="button" class="btn-delete">삭제</button>
        </div>`;
      list.appendChild(div);
    });

    list.addEventListener('click', e => {
      if (e.target.classList.contains('btn-delete')) {
        e.target.closest('.account-row').remove();
      }
    });
  })();
</script>
</div>