<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>관리자 - 상품관리</title>
<!-- 관리자 공지사항 CSS -->
<link rel="stylesheet" th:href="@{/css/admin/category/categoryList.css}">
<!-- 외부파일(jQuery, Font Awesome, favicon 등) -->
<th:block th:replace="~{components/admin/external :: external}"></th:block>
</head>

<body>
	<!-- 고정 사이드바 -->
	<div th:replace="~{fragments/admin/admin_sidebar :: sidebar}"></div>
	<!-- 상단 헤더 -->
	<div th:replace="~{fragments/admin/admin_header :: header}"></div>
	
	<div class="admin-wrapper">
		<div class="main-content">
			<!-- 헤더 -->
			<header class="main-header">
				<div class="breadcrumbs">
					<span>카테고리관리 &gt;</span> <span class="current-page">카테고리</span>
				</div>
			</header>

			<!-- 메인 컨텐츠 (상품 관리) -->
      <main class="container">
        <section class="notice-form-section">
          <!-- 등록 폼 -->
          <form th:action="@{/admin/category}" th:object="${categoryDTO}" method="post" style="margin-bottom:20px;">
            <input type="text" name="catNum" th:value="${categoryDTO.catNum > 0} ? ${categoryDTO.catNum} : ''"  class="form-input" placeholder="새 카테고리 번호"  style="width:15%; display:inline-block;"/>
            <input type="text" th:field="*{name}" class="form-input" placeholder="새 카테고리 이름" style="width: 30%" required/>
            <button type="submit" class="control-button">등록</button>
          </form>

          <!-- 목록 테이블 -->
          <table style="width:100%; border-collapse:collapse;" border="1" cellpadding="8">
            <thead>
              <tr style="background:#f0f0f0;">
                <th>번호</th>
                <th>이름</th>
                <th>작업</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="ctg : ${categories}">
                <td>
                  <form th:action="@{/admin/category/{id}(id=${ctg.catNum})}" method="post" style="display:inline-block;">
                    <input type="hidden" name="_method" value="put" />
                    <input type="text" name="catNum" th:value="${ctg.catNum}" style="width:60px; text-align:center;" required/>
                </td>
                <td>
                    <input type="text" name="name" th:value="${ctg.name}" style="width:200px;" required/>
                </td>
                <td>
                    <button type="submit" class="control-button">저장</button>
                  </form>
                  <form th:action="@{/admin/category/{id}(id=${ctg.catNum})}" th:method="delete" style="display:inline-block; margin-left:8px;">
                    <button type="submit" class="control-button">삭제</button>
                  </form>
                </td>
              </tr>
            </tbody>
          </table>

        </section>
      </main>
			<!-- 필요하다면 하단 스크립트 -->
			<script src="/js/admin/script.js" defer></script>
		</div>
	</div>


</body>
</html>